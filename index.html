<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 16 16%22><text y=%2214%22 font-size=%2214%22>‚úàÔ∏è</text></svg>">
    <title>Packing List</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js"></script>
    <style>
        html {
    scroll-behavior: smooth;
}
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            background-color: #191919;
            color: white;
            line-height: 1.6;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }
        .cover-image {
            width: 100%;
            height: 250px;
            background-image: url('https://images.unsplash.com/photo-1684698769392-c6404a6427cb?q=80&w=1740&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');
            background-size: cover;
            background-position: center;
            margin-bottom: 20px;
            border-radius: 8px;
            position: relative;
        }
        
        .emoji-container {
    position: absolute;
    bottom: -60px;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    text-align: center;
}

.emoji {
    font-size: 5em; /* Adjust size as needed */
    margin: 0;
    transform: translateY(50%); /* Moves the emoji up */
}

        h1 {margin-top: 73px;
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        h2 {
            margin-top: 30px;
            display: flex;
            align-items: center;
            font-weight: 600;
            font-size: 1.8em;
            margin-bottom: 15px;
            line-height: 1.3;
            border-bottom: 1px solid #333;
            padding-bottom: 5px;
        }
        .subemoji {
            margin-left: 10px;
        }
        .add-icon {
            margin-left: 10px;
            cursor: pointer;
            color: rgba(225, 223, 217, 0.65);
            transition: transform 0.5s ease;
        }
        .add-icon.rotated {
            transform: rotate(45deg);
        }
        ul {
            list-style-type: none;
            padding-left: 0;
            margin-top: 1px;
            margin-bottom: 1px;
        }
        li {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        label {
            display: block;
            cursor: pointer;
        }
        input[type="checkbox"] {
            margin-right: 10px;
        }
        input[type="checkbox"]:checked + span {
            text-decoration: line-through;
            color: rgba(55, 53, 47, 0.65);
        }
        input[type="checkbox"]:checked + span {
            color: #888;
        }
        input[type="checkbox"]:checked + span::after {
            width: 100%;
        }
        
        span {
            position: relative;
            transition: color 0.7s ease;
        }
        span::after {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            width: 0;
            height: 1px;
            background-color: #888;
            transition: width 0.7s ease;
        }
        .new-item-input {
            display: none;
            margin-top: 10px;
            width: calc(100% - 10px);
            padding: 5px;
            border: 1px solid rgba(55, 53, 47, 0.16);
            border-radius: 3px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="cover-image">
        <div class="emoji-container">
            <span class="emoji">üß≥</span>
        </div>
    </div>
    <h1>PACKING LIST</h1>

    <div id="packing-list">
        <!-- Sections will be dynamically populated here -->
    </div>

    <script>
        const sections = [
            {
                name: "Electronics", 
                emoji: "üîå",
                items: [
                    "universal plug converter",
                    "India to Europe converter x3",
                    "extension board",
                    "laptop/phone + chargers",
                    "screen cleaner",
                    "an extra charging-adapter",
                    "extra screen-guard and phone-cover",
                    "sim ejector tool",
                    "extra usb c-c, microUSB-A, A-C",
                    "trimmer",
                    "power bank",
                    "earphones/tws",
                    "sci. calculator",
                    "wallet, card holder",
                    "forex card",
                    "cash ‚Ç¨"
                ]
            },
            {
                name: "Kitchen", 
                emoji: "üî™",
                items: [
                    "Knife, peeler",
                    "sieves x2",
                    "cookware (tea-pan, tawa, kadhai, fry pan, cooker)",
                    "microwave safe bowls BIG",
                    "tiffin box",
                    "plates, bowls, glass, cups, coffe mug/tumbler, cutlery x2",
                    "chopper (?)",
                    "chopping board (?)",
                    "water bottle",
                    "rolling pin",
                    "spatulas, ladles n silicone-brush",
                    "kitchen towel and wiping cloth",
                    "vim, scotchbrite, steel-wool, sponge",
                    "containers",
                    "tea-sugar-coffe container",
                    "oil/ghee container/dispenser",
                    "masala box",
                    "grater"
                ]
            },
            {
                name: "Docs", 
                emoji: "üìÑ",
                items: [
                    "passport/visa",
                    "Docs manage folder",
                    "Birth Certif",
                    "10th mrksh",
                    "12 mrksh + certif",
                    "all 8sem mrksh",
                    "provisional degree",
                    "medical certif",
                    "IDs(aadhar,PAN, DL)",
                    "Rent agreement",
                    "photos",
                    "adm letter",
                    "airplane ticket",
                    "insurance certif"
                ]
            },
            {
                name: "Sanitary & Medicine", 
                emoji: "üß¥",
                items: [
                    "soap/shampoo/conditioner",
                    "powder",
                    "nail cutter",
                    "comb",
                    "toothbrush, paste",
                    "handwash",
                    "facewash",
                    "sanitizer",
                    "deo, perfume",
                    "hair oil",
                    "tissues",
                    "bandage, crepe, band-aid",
                    "all common meds + dr. prescription",
                    "vicks, moov",
                    "Vit-D",
                    "savlon, cotton",
                    "cut/wound ointment"
                ]
            },
            {
                name: "Miscellaneous", 
                emoji: "üñáÔ∏è",
                items: [
                    "folders",
                    "scissors",
                    "fevistick, -col, -kwik",
                    "screwdriver",
                    "A4 sheets, notebooks (?)",
                    "paperclips",
                    "tapes(single,double side)",
                    "pen pencil eraser sharpener",
                    "clothes hangers",
                    "seal clips",
                    "rubber bands",
                    "cable-ties",
                    "zip bags",
                    "basic sewing kit (?)",
                    "Rin soap + brush",
                    "trekking bag",
                    "shopping bag/jute bag"
                ]
            },
            {
                name: "Clothing n Miscell.", 
                emoji: "üëñ",
                items: [
                    "bedsheet",
                    "towel",
                    "hand towel",
                    "collapsible storage box(?)",
                    "raincoat",
                    "umbrella (?)",
                    "thermals x2",
                    "belt"
                ]
            },
            {
                name: "Food", 
                emoji: "üçù",
                items: [
                    "ginger garlic paste",
                    "maggi, soup, oats, pasta",
                    "dals, choley, rajma",
                    "masales (haldi, chilli, garam, chat, coriander, jeera-powder)",
                    "ready masale(pavbhaji, chola, sambhar, meat)",
                    "maggi masala, chings",
                    "poha, rice, suji",
                    "besan, maida (?)",
                    "cooking oil, ghee (?)"
                ]
            },
            {
                name: "To-do before leaving", 
                emoji: "‚öíÔ∏è",
                items: [
                    "visit doctor ‚Üí prescription",
                    "expand laptop RAM",
                    "apply for international DL",
                    "Digi-Yatra Register w/ e-boarding pass",
                    "get birth certif apostille",
                    "digitize old notes",
                    "see for bank account online",
                    "Revolut/wise",
                    "e-verify degree for KUL",
                    "send visa to KUL"
                ]
            }
        ];
        

        function createSection(section) {
            return `
                <h2>${section.name}<span class="subemoji">${section.emoji}</span><span class="add-icon" onclick="toggleInput(this, event)"><i class="fas fa-plus"></i></span></h2>
                <ul id="${section.name.replace(/\s+/g, '-').toLowerCase()}">
                    ${section.items.map(item => `
                        <li>
                            <label>
                                <input type="checkbox" onchange="updateLocalStorage()">
                                <span>${item}</span>
                            </label>
                        </li>
                    `).join('')}
                </ul>
                <input type="text" class="new-item-input" onkeydown="addNewItem(event, this)" placeholder="Add new item...">
            `;
        }

        function toggleInput(icon, event) {
    event.stopPropagation();
    icon.classList.toggle('rotated');
    const section = icon.parentElement.nextElementSibling;
    const input = section.nextElementSibling;
    if (input.style.display === 'block') {
        hideInput(input);
    } else {
        showInput(input);
        setTimeout(() => {
            input.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }, 0);
    }
}

        function showInput(input) {
            input.style.display = 'block';
            input.focus();
        }

        function hideInput(input) {
            input.style.display = 'none';
            input.value = '';
            const icon = input.previousElementSibling.previousElementSibling.querySelector('.add-icon');
            icon.classList.remove('rotated');
        }

        function addNewItem(event, input) {
            if (event.key === 'Enter') {
                const newItem = input.value.trim();
                if (newItem) {
                    const ul = input.previousElementSibling;
                    const li = document.createElement('li');
                    li.innerHTML = `
                        <label>
                            <input type="checkbox" onchange="updateLocalStorage()">
                            <span>${newItem}</span>
                        </label>
                    `;
                    ul.appendChild(li);
                    saveToLocalStorage();
                    hideInput(input);
                }
            }
        }

        function saveToLocalStorage() {
            const data = {};
            sections.forEach(section => {
                const sectionName = section.name.replace(/\s+/g, '-').toLowerCase();
                const ul = document.getElementById(sectionName);
                data[sectionName] = Array.from(ul.children).map(li => ({
                    text: li.querySelector('span').textContent,
                    checked: li.querySelector('input[type="checkbox"]').checked
                }));
            });
            localStorage.setItem('packingList', JSON.stringify(data));
        }

        function loadFromLocalStorage() {
            const data = JSON.parse(localStorage.getItem('packingList'));
            if (data) {
                sections.forEach(section => {
                    const sectionName = section.name.replace(/\s+/g, '-').toLowerCase();
                    const ul = document.getElementById(sectionName);
                    const items = data[sectionName] || [];
                    ul.innerHTML = items.map(item => `
                        <li>
                            <label>
                                <input type="checkbox" ${item.checked ? 'checked' : ''} onchange="updateLocalStorage()">
                                <span>${item.text}</span>
                            </label>
                        </li>
                    `).join('');
                });
            }
        }

        function updateLocalStorage() {
            saveToLocalStorage();
        }

        // Initialize the page
        document.getElementById('packing-list').innerHTML = sections.map(createSection).join('');
        loadFromLocalStorage();

        // Close input when clicking outside
        document.addEventListener('click', function(event) {
            const activeInputs = document.querySelectorAll('.new-item-input[style="display: block;"]');
            activeInputs.forEach(input => {
                if (!input.contains(event.target) && !event.target.classList.contains('add-icon')) {
                    hideInput(input);
                }
            });
        });
    </script>
</body>
</html>
